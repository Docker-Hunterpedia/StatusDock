# Environment Variables for StatusDock with Strapi
# Copy this file to .env and update the values

# =============================================================================
# CMS CONFIGURATION
# =============================================================================
# Choose your CMS provider: "payload" or "strapi"
CMS_PROVIDER=strapi

# =============================================================================
# STRAPI CONFIGURATION (Required when CMS_PROVIDER=strapi)
# =============================================================================

# Strapi Server URL (internal Docker network name or external URL)
STRAPI_URL=http://strapi:1337

# Strapi API Token (generate this in Strapi admin: Settings â†’ API Tokens)
# This token is used by StatusDock to communicate with Strapi
STRAPI_API_TOKEN=your-strapi-api-token-here

# Strapi Admin Token (optional, for admin operations)
STRAPI_ADMIN_TOKEN=

# Strapi Security Keys (MUST be changed in production!)
# Generate random strings for each of these
STRAPI_APP_KEYS=key1,key2,key3,key4
STRAPI_API_TOKEN_SALT=random-salt-here
STRAPI_ADMIN_JWT_SECRET=random-secret-here
STRAPI_TRANSFER_TOKEN_SALT=random-salt-here
STRAPI_JWT_SECRET=random-secret-here

# =============================================================================
# PAYLOAD CONFIGURATION (Required when CMS_PROVIDER=payload)
# =============================================================================
# Kept for backward compatibility
PAYLOAD_SECRET=your-super-secret-key-change-this-in-production

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL connection string
DATABASE_URI=postgresql://hostzero:changeme@db:5432/hostzero_status

# PostgreSQL password (used by docker-compose)
POSTGRES_PASSWORD=changeme

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# Public URL where StatusDock will be accessible
SERVER_URL=http://localhost:3000

# =============================================================================
# SSO/OIDC AUTHENTICATION (Optional)
# =============================================================================
# Uncomment and configure to enable SSO
# OIDC_CLIENT_ID=your-client-id
# OIDC_CLIENT_SECRET=your-client-secret
# OIDC_AUTH_URL=https://keycloak.example.com/realms/myrealm/protocol/openid-connect/auth
# OIDC_TOKEN_URL=https://keycloak.example.com/realms/myrealm/protocol/openid-connect/token
# OIDC_USERINFO_URL=https://keycloak.example.com/realms/myrealm/protocol/openid-connect/userinfo
# OIDC_SCOPES=openid profile email
# OIDC_AUTO_CREATE=true
# OIDC_ALLOWED_GROUPS=status-admins,status-editors
# OIDC_GROUP_CLAIM=groups
# OIDC_DISABLE_LOCAL_LOGIN=true

# =============================================================================
# GENERATION COMMANDS
# =============================================================================
# Use these commands to generate secure random strings:
#
# On Linux/Mac:
#   openssl rand -base64 32
#
# On Windows (PowerShell):
#   [Convert]::ToBase64String((1..32 | ForEach-Object { Get-Random -Maximum 256 }))
#
# Or use an online generator like: https://randomkeygen.com/
